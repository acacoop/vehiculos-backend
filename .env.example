###############################################################################
# Environment example for vehiculos-backend                                   #
# Copy to .env and fill the REQUIRED placeholders.                            #
###############################################################################

# ------------------------- Application --------------------------------------
# Port Express listens on
APP_PORT=3000
# Node environment (development|production|test)
NODE_ENV=production

# ------------------------- Database (SQL Server) ----------------------------
# Host or service name of SQL Server
DB_HOST=localhost
# Exposed port (container mapping e.g. 5433->1433). Use 1433 if connecting directly.
DB_PORT=5433
# Login / user
DB_USER=postgres
# Password (change in real deployments)
DB_PASSWORD=postgres
# Database name
DB_NAME=vehicles_db

# ------------------------- Rate Limiting ------------------------------------
# Window size in ms for rate limiter (60000 = 1 min)
RATE_LIMIT_WINDOW_MS=60000
# Max requests per window per IP
RATE_LIMIT_MAX=1000

# ------------------------- Entra ID Token Validation ------------------------
# REQUIRED: Tenant ID (Directory ID)
ENTRA_TENANT_ID=<TENANT_GUID>
# REQUIRED: Audience accepted (api://<API_APP_ID> or <API_CLIENT_ID>). Comma separated list allowed.
ENTRA_API_AUDIENCE=<API_APP_ID_URI_OR_CLIENT_ID>
# OPTIONAL: Custom issuer. Leave blank to auto = https://login.microsoftonline.com/<TENANT_GUID>/v2.0
ENTRA_EXPECTED_ISSUER=
# OPTIONAL: Restrict to these client IDs (comma separated). Leave blank to disable check.
ENTRA_ALLOWED_CLIENT_IDS=
# OPTIONAL: Scope value you expect (not enforced yet)
ENTRA_REQUIRED_SCOPE=access_as_user

# ------------------------- Graph Sync (Client Credentials) ------------------
# OPTIONAL: Client ID of app used for sync (can be same as API if confidential)
ENTRA_CLIENT_ID=<SYNC_APP_CLIENT_ID>
# OPTIONAL: Client secret (never commit real secret)
ENTRA_CLIENT_SECRET=<SYNC_APP_CLIENT_SECRET>
# OPTIONAL: Group Object ID to limit sync (leave blank for all users)
ENTRA_GROUP_ID=

# ------------------------- Notes --------------------------------------------
# - Generate separate secrets per environment.
# - Rotate secrets periodically.
# - If you add new env vars update src/config/env.config.ts.
###############################################################################
